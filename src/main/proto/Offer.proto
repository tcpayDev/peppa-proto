syntax = "proto3";
import "SimpleVO.proto";
option java_package = "io.tradingchain.peppa.proto.offer";
option java_outer_classname = "Offer";

message CreateBuyOfferRequest{
  string partnerKey = 1;
  string password = 2;
  string username = 3;
  string platform = 4;
  string tradePassword = 5;
  string authcode = 6;
  int64 tradePairId = 7;
  string amount = 8;
  string price = 9;
  string externalId = 10;
  string externalName = 11;
}

message CreateSellOfferRequest{
  string partnerKey = 1;
  string password = 2;
  string username = 3;
  string platform = 4;
  string tradePassword = 5;
  string authcode = 6;
  int64 tradePairId = 7;
  string amount = 8;
  string price = 9;
  string externalId = 10;
  string externalName = 11;
}

message CreatePassiveBuyOfferRequest{
  string partnerKey = 1;
  string password = 2;
  string username = 3;
  string platform = 4;
  string tradePassword = 5;
  string authcode = 6;
  int64 tradePairId = 7;
  string amount = 8;
  string price = 9;
  string externalId = 10;
  string externalName = 11;
}

message CreatePassiveSellOfferRequest{
  string partnerKey = 1;
  string password = 2;
  string username = 3;
  string platform = 4;
  string tradePassword = 5;
  string authcode = 6;
  int64 tradePairId = 7;
  string amount = 8;
  string price = 9;
  string externalId = 10;
  string externalName = 11;
}

//提交挂单返回统一内容
message CreateOfferResponse{
  int32 code = 1;
  string msg = 2;
  OfferData offer = 3;
}

message CancelOfferRequest{
  string partnerKey = 1;
  int32 offerId = 2;
  string password = 3;
  string username = 4;
  string platform = 5;
  string tradePassword = 6;
}

message CancelOfferResponse{
  int32 code = 1;
  string msg = 2;
  OfferData offer = 3;
}

message FindOfferByExternalIdRequest{
  string externalId= 1;
  string externalName = 2;
}
message FindOfferByExternalIdResponse{
  int32 code = 1;
  string msg = 2;
  OfferData offer = 3;
}

message FindOfferByIdRequest{
  int64 offerId = 1;
}
message FindOfferByIdResponse{
  int32 code = 1;
  string msg = 2;
  OfferData offer = 3;
}

message FindOffersByUserRequest{
  string password= 1;
  string username= 2;
  string platform= 3;
  int32 page= 4;
  int32 size = 5;
}
message FindOffersByUserResponse{
  int32 code = 1;
  string msg = 2;
  repeated OfferData offers = 3;
}

message FindOffersByTradePairRequest{
  int64 tradePairId= 1;
  int32 page= 2;
  int32 size = 3;
}
message FindOffersByTradePairResponse{
  int32 code = 1;
  string msg = 2;
  repeated OfferData offers = 3;
}

message OfferData{
  string offerId= 1;
  SimpleAsset baseAsset= 2;
  SimpleAsset counterAsset= 3;
  string price= 4;
  string amount= 5;
  string leftAmount= 6;
  string fee= 7;
  string leftFee= 8;
  SimpleAsset feeAsset= 9;
  //订单状态
  OfferStatus status = 10;
  enum OfferStatus{
    OFFERING = 0;
    CANCEL = 1;
    OK = 2;
    FAIL = 3;
  }
}